<div class="fenetre" [cdkDragDisabled]="fenetre=='modifMap'" [style.left]="(fenetre=='modifMap'?120:menu.x)+'px'"
    [style.top]="(fenetre=='modifMap'?20:menu.y)+'px'" cdkDrag>
    <p class="croix clickable" (click)="close()">X</p>
    <div *ngIf="fenetre==''">
        <p *ngIf="menu.type=='map'" (click)="fenetre='addEntity'" class="choix"> Ajouter une entité</p>
        <p *ngIf="menu.type=='map'&&data.admin" (click)="fenetre='modifMap'" class="choix">(A) Modifier map</p>
        <p *ngIf="menu.type=='map'" class="choix" (click)="sauvegarde()">Sauvegarder</p>
        <p *ngIf="menu.type=='map'" class="choix" (click)="repos()">Repos</p>
        <p *ngIf="menu.type=='entite'&&getQuetes().length>0" (click)="quete=true;" class="choix">Quetes ({{nbrQuetes}})
        </p>

        <p *ngIf="menu.type=='entite'&&data.admin" (click)="fenetre='addObjet'" class="choix"> (A) Ajouter un objet</p>
        <p *ngIf="menu.type=='entite'&&!perso.joueur" (click)="deletion()" class="choix">{{delete}}</p>
        <p *ngIf="menu.type=='entite'&&perso.familier" (click)="clickLierFamilier()" class="choix">
            {{(perso.statutFamilier=='lie'?'Délier Familier':'Lier Familier')}}</p>
        <p *ngIf="menu.type=='entite'&&perso.familier" (click)="clickAfficherFamilier()" class="choix">
            {{(perso.statutFamilier=='affiche'?'Cacher Familier':'Afficher Familier')}}</p>
        <p *ngIf="menu.type=='entite'&&perso.team>0" (click)="perso.team=perso.team-1" class="choix">Améliorer relation
        </p>
        <p *ngIf="menu.type=='entite'&&perso.team<2" (click)="perso.team=perso.team+1" class="choix">Baisser relation
        </p>
    </div>

    <app-add-entite *ngIf="fenetre=='addEntity'" [data]="data" [menu]="menu"></app-add-entite>
    <app-add-item-loot *ngIf="fenetre=='addObjet'" [data]="data" [perso]="perso"></app-add-item-loot>
    <app-modif-map *ngIf="fenetre=='modifMap'" [data]="data"></app-modif-map>
</div>